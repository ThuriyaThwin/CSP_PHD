<html>
  <head>
  <title>Rational Metareasoning in Problem-Solving Search</title>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  </head>
  <body style="direction: rtl; font: 14pt sans-serif; margin: 1em 2em">
  <h1>הסק־על רציונלי בבעיות חיפוש</h1>
  <h2>הנושא </h2>
  <p>
  בחמש השנים האחרונות עסקתי, בהנחיית פרופ שמעוני, בחקר Rational Metareasoning בבעיות חיפוש קשות. אני מאמין שקידמנו את התחום, שהיה קצת תקוע מאז תחילת שנות תשעים, והיום גם אציג את החידושים המטודולוגיים, גם אדגים אותם על שלוש בעיות מסוגים שונים. אבל קודם כל, אני מרגיש צורך להבהיר את משמעות הכותרת של התיזה שלי:
  </p>
  <blockquote>Rational Metareasoning in Problem-solving Search</blockquote>
  <p>
בכותרת זו כל מלה דורשת פירוש. אתחיל מהסוף: קודם כל, <b>Problem Solving Search</b> - ובעברית הייתי אומר: בעיות חיפוש קשות. בלב של אלגוריתמים רבים מוטמה חיפוש ממרחב מצבים בדיד ־ חיפוש קומבינטורי. אמנם יש בעיות שבהן זמן המאמץ הנדרש כדי למצוא את הפתרון תלוי בעיקר בממדים פשוטים של מופע הבעייה, כמו מספר קודקודים וצלעות בגרף בבעיית המסלול הקצר ביותר. אולם בבעיות רבות זמן מציאת הפתרון משתנה באופן חד ממופע למופע ־ וקושי יחסי של מציאת פתרון  עבור מופעים שונים תלוי גם 
באלגוריתם חיפוש שבחנרו בו. אנחנו מתרכזים בבעיות מסוג זה, שהן בדרך כלל גם בעיות קשות.
  </p>
  <p>
בבעיות חיפוש קשות ובלתי־הדוקות מועיל שימוש בהיוריסטיקות ־ חישובים שבשלב חיפוש נתון מאשפרים לאמוד מצבי החיפוש בסביבת המצב הנוכחי ובכך עוזרים לכוון את האלגוריתם. ככל שהיוריסטיקה מסוימת מקטינה את המאמץ למציאת הפתרון עבור קבוצת מופעים מסוימת, כך היא טובה יותר. גם כדי לחשב את ההיוריסטיקה נדרש זמן, לכן אפשר לאפיין היוריסטיקות בשלוש התכונות הבאות:
</p>
<ul>
 <li>יעילות: עד כמה היוריסטיקה משפרת ביצועים של האלגוריתם?</li>
 <li>סיבוכיות: כמה זמן לוקח לחשב את היוריסטיקה? (הרי  מציאת פתרון מדויק היא יוריסטיקה טובה ביותר, אבל  זמן החישוב יהיה ארוך מדי ־־־ זאת הסיבה שאנחנו מחפשים יוריסטיקות פשוטות יותר.</li>
 <li>כלליוּת ־־־ האם היוריסטיקה עובדת טוב במקרים שונים רבים, או שמיועדת רק לסוג מופעים  מסוים?  </li>
</ul>
מאפיינים אלה מציבים שאלות רבות ומסקרנות לגבי אלגוריתמים היוריסטיים לבעיות חיפוש קשות.
</p>

<p><b>Rationality</b>
־ מקור המונח ־ בבינה מלאכותית, במודל שבה סוכנים חישוביים פועלים בעולם לצורך השגת מטרה מסוימת, כשיש לסוכנים רק ידע חלקי על הסביבה. וסוכן רציונלי עשוי לפועל באופן שממקסם את התוכלת התועלת שלו. רציונלית מוחלטת איננה בת השגה כי המשאבים החישוביים של הסוכן עצמו מוגבלים, ושואפים לפתח סוכנים בעלי אופטימליות מסויגת, ־ פועלים כדי למקסם את תוכלת התועלת שלהם בהתחשב גם במשאבים החישוביים של עצמם. 
</p>
<p>
בסוג האחרון של רציונליות, המכונה ״רציונליות מוגבלת״ אנחנו מתעניינים כשמתבוננים בשימוש נבון בהיוריסטיקות ־ כיצד לאזן  בין התועלת שניתן להשיג מחישוב היוריסטי לבין המחיר שאנחנו משלמים עבורו. 
תשובה לשאלה זו דורשת יותר מניתוח סיבוכיות יחסית של אלגוריתם החיופש והחישוב היוריסטי, כי, כפי שהזכרנו קודם, אנחנו מתעניינים באלגוריתמים לבעיות שבהן זמן מציאת פתרון משתנה משמעותית ממופע למופע ותלוי בתוצאות של החישובים היוריסטיים. 
</p>
<p>
גם במרכז הכותרת, גם במרכז המחקר נמצא <b>Metareasoning</b>, מונח שאפשר לתרגם אותו כ״הסק על הסק״. אלגוריתם חיפוש בכל שלב מקבל החלטה מה תהיה הפעולה הבאה ־ איזה מצב לפתח, איזה איבר להוסיף לקבוצה וכו. את ההחלטה הזו הוא מקבל, כפי שנזכרנו קודם, בעזרת חישובי עזר ־ היוריסטיקות. במקרים רבים קיימת אפשרות לבחור בהיוריסטיקה מסוימת מתוך כמה, להפעיל חישוב היוריסטי בעל אופי ארקאי מספר פעמים, או, לחליפין, להתקדם בלי לבצע חישובים נוספים, על סמך הידע שכבר נצבר עד כה. כל אחת מהאפשרויות הללו, אם בוחרים בה נכונה, עשויה ליעל את האלגוריתם, לשפר את זמן הריצה שלו, או, באופן כללי  יותר ־ להוריד את המחיר שאנו עומדים לשלם על מציאת הפתרון. Metareasoning כתחום מחקר עוסק בשיטות מסודרות לקבלת החלטות אלה. 
</p>
<h2>תכנית ההרצאה</h2>
<p>
בהמשך ההרצאה אני אתאר, על רגל אחת, את התאוריה והמטודולגיה הבסיסית של Rational Metareasoning, שאותה אנחנו מנסים ליישם בתחומים שונים. אחר כך אנחנו נתבונן בשלוש גוסיות של שימוש בRational Metareasoning באלגוריתמים היוריסטיים:
</p>
<ul>
  <li>סיפוק אילוצים</li>
  <li>דגימת מונטה־קרלו בעצים (Monte Carlo Tree Search)</li>
  <li>אלגוריתם A*</li>
</ul>
<p>
בכל אחת מהסוגיות אני אדבר על הגדרת הבעייה במונחים של Rational Metareasoning, על הקשיים בפעלה ישירה של השיטה, ועל הדרכים שבהן התגברנו על הקשיים וקיבלנו פתרון מוצלח.   לסיכום, אומר כמה הערות על הארות מטודולוגיות כלליות, שיהיו מן הסתם חשובות גם בסוגיות נוספות בעתיד.
</p>

  <h2>Rational Metareasoning</h2>
  
  <p>
שני מושגי יסוד של Rational Metareasoning הם  ערך מידע (Value of Information) ועלות הזמן (time cost). בכל שלב האלוגירתם מהרהר לפני שבוחר בפעולה  בסיסית זו או אחרת שמקדמת אותו במרחב החיפוש. הפעולה טובה ביותר היא זאת שממקסמת את תוכלת התועלת של הפתרון העתידי, בהנתן הידע הנוכחי על הבעייה. ההירהור מתממש תוך ביצוע של פעולות חישוביות  שמטרתן לשפר את הידע של האלגוריתם על הבעייה כך שיוכל לבחור פעולה בסיסית טובה יותר, כלומר, שתוביל לפתרון עם תועלת גבוה יותר בתוכלת. תוכלת השיפור של התוכלת התועלת של הפעולה הבסיסית שתיבחר היא ערך מידע של פעולה חישובית. בכל רגע נתון, אנחנו מעוניינים לבצע חישוב עם ערך מידע גבוע ביותר.
</p>
<p>מתי יש לעצור את ההירהור ולבצע את הפעולה הבסיסית המועדפת? לכל פעולה חישובית מייחסים עלות הזמן, כלומר הזמן שנדרש כדי לבצע את החישוב, מתוגרם ליחידות המדידה של תועלת הפתרון. במקרים רבים, למשל כשמחפשים פתרון אופטימלי , או להפך, פתרון כלשהו, גם תועלת הפתרון הוא הזמן שנדרש למצוא אותו, ואז עלות הזמן היא פשוט זמן החיושב עצמו.
</p>
<p>
ברוב הבעיות ניתוח עלויות חישוב וערך מידע מוסבך למדי, ומקובל להסתמך על הנחות מפשטות, שחשובות בינהן הן:
<ol>
  <li>
  אי־תלות בין תת־העצים - כלומר, עצם העובדה שהאלגוריתם בחר להתקדם בכיוון פתרון מסוים לא משנה את התועלת של פתרון אחר.</li>
  <li>
  קצרות־ראייה ־ פעולה חישובית נבחרת כאילו זאת הפעולה החישובית האחרונה לפני ביצוע פעולה בסיסית. </li>
  </ol>
  כמובן, כמו כל חנחה מפשטת אחרת, הנחות אלה לא תמיד הולמות את הבעייה, ולפעמים, כפי שנראה בהמשך, אנחנו נדרשים לוותר עליהן ולהחליף אותן באחרות, חלשות או משוכללות יותר. 
 </p>
   <h2>Case Studies</h2>
 <p>
 עכשיו נראה כיצד ניתן להפעיל את השיטה לבעיות שונות מבינה מלאכותית.
 </p>
  <h3>סיפוק אילוצים</h3>
  Б
  <h3>דגימת מונטה־קרלו בעצים</h3>
  <h3>הפעלת היוריסטיקות ב A*</h3>
  <h2>הארות מטודולוגיות</h2>
  <h2>סיכום</h2>
  </body>
</html>
